# 🎲 pll_recognize – README

> **六格观察法 PLL 训练器**  
> 基于 PyQt5 的**可定制**速拧识别训练工具  
> 支持**标准训练** & **定制训练**，实时统计、排行  
> 让 PLL 不再是“看心情”，而是“看数据”！

---

## ✨ 特性一览

| 🎯 核心功能 | 📝 说明 |
|-------------|--------|
| **标准训练** | 84 题固定组，每个 PLL 的四种状态各抽一张，随机顺序，计时 & 正确率 |
| **定制训练** | 根据历史表现动态加权，短板优先，越练越精准 |
| **实时统计** | 84 个 case 的掌握值、平均时间、正确率实时更新 |
| **排行榜**   | 按掌握值、排序，随时查看进步 |
| **数据重置** | 二次确认一键清空，重新开始无压力 |
| **遗忘机制** | 每轮结束权重回拉，防止“过拟”，保持新鲜感 |

---

## 🚀 快速开始

### 1. 环境要求

| 项目 | 最低版本                                    | 推荐版本 |
|------|-----------------------------------------|----------|
| Python | 3.13                                    | 3.13 |
| PyQt5 | 5.15                                    | 5.15 |
| 操作系统 | Windows 10  | 最新 LTS |

> ⚠️ 注意：macOS 用户需先安装 `brew install python-tk` 以支持 SVG 渲染。

### 2. 一键启动

```bash

# 安装依赖
pip install -r requirement.txt

# 启动程序
python main.py
```

---

## 📁 项目结构

```
pll-practice
├─ main.py               # 入口
├─ ui/
│  ├─ main_window.py     # 主菜单
│  ├─ pll_trainer.py     # 标准训练
│  ├─ custom_trainer.py  # 定制训练
│  ├─ mastery_view.py    # 统计面板
│  └─ setting.py         # 配置面板
├─ core/
│  ├─ svg_scanner.py     # SVG 解析
│  ├─ weight_manager.py  # 权重管理
│  ├─ stat_store.py      # 记录 & 掌握值算法
│  └─ config.py          # 全局参数
└─ resources/
   ├─ SVG/               # 336 张 SVG
   ├─ weights.json       # 权重缓存
   └─ stat.json          # 统计缓存
```

---

## 📊 算法说明

### 1. 掌握值算法（v2.0）

| 场景 | 计算规则                                |
|------|-------------------------------------|
| **无数据** | 掌握值 = 0                             |
| **错误** | 折算 **8 秒** 参与掌握值                    |
| **平均时间** | **仅统计正确记录**                         |
| **曲线** | 1 s = 100，2 s = 80，3 s = 60，8 s = 0 |
| **置信系数** | 1 次 80%，2 次 85%，…，5 次 100%          |
| **滚动统计** | 滚动统计最近的五次成绩          |

> 📈 掌握值越高，越接近“肌肉记忆”！

### 2. 权重算法（v2.0）

| 场景 | 计算规则 |
|------|----------|
| **时间因素** | 公式：max(min(t , 8) / 2 , 0.25 )  |
| **错误** | 按8秒时间计算 |
| **颜色因素** | 按一定比例折算同一case的其他三种颜色 |
| **遗忘机制** | 每轮结束后权重向1靠拢，公式：遗忘率 * 权重 + 1 - 遗忘率 |

---

## ⚙️ 可调配置

| 名称 | 说明 | 建议值 |
|------|------|--------|
| **遗忘率** | 每轮结束后权重自动向1靠拢 | 0.95（设为1则不遗忘） |
| **颜色同步率** | 同一case不同颜色的权重同步 | 0.95（设为1则完全同步） |
| **每轮张数** | 每轮抽的张数 | 50 |
| **切换延迟** | 两张图之间的切换延迟 | 0.2 s |
| **全局收敛速度** | 全局收敛速度 | 0.2（长期） / 1（短期） |

---

## 📜 许可证

MIT License – 自由使用、修改、分发。  
欢迎 Star ⭐ / Issue 🐛 / PR 🚀！

---

> **让 PLL 训练像游戏一样上瘾！**
